{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"About foo","title":"About"},{"location":"#about","text":"foo","title":"About"},{"location":"features/daily-notes/","text":"Daily Notes Daily notes allow you to quickly create and access notes for today. Try it out, run the Foam: Open Daily Note command. Shortcuts and Snippets You can quickly open today's daily note by pressing alt+d . You can also quickly create link to your daily notes, in the configured format, using snippets . Type /today and press enter to link to today's note. You can also write: Snippet Date /tomorrow tomorrow /yesterday yesterday /monday next monday /+1d tomorrow /-3d 3 days ago /+1w in a week /-1m one month ago /+1y in one year You get the idea ;) Configuration It's possible to customize path and heading of your daily notes, by following the dateformat masking syntax . The following properties can be used: \"foam.openDailyNote.directory\": \"journal\", \"foam.openDailyNote.filenameFormat\": \"'daily-note'-yyyy-mm-dd\", \"foam.openDailyNote.fileExtension\": \"mdx\", \"foam.openDailyNote.titleFormat\": \"'Journal Entry, ' dddd, mmmm d\", The above configuration would create a file journal/note-2020-07-25.mdx , with the heading Journal Entry, Sunday, July 25 .","title":"Daily notes"},{"location":"features/daily-notes/#daily-notes","text":"Daily notes allow you to quickly create and access notes for today. Try it out, run the Foam: Open Daily Note command.","title":"Daily Notes"},{"location":"features/daily-notes/#shortcuts-and-snippets","text":"You can quickly open today's daily note by pressing alt+d . You can also quickly create link to your daily notes, in the configured format, using snippets . Type /today and press enter to link to today's note. You can also write: Snippet Date /tomorrow tomorrow /yesterday yesterday /monday next monday /+1d tomorrow /-3d 3 days ago /+1w in a week /-1m one month ago /+1y in one year You get the idea ;)","title":"Shortcuts and Snippets"},{"location":"features/daily-notes/#configuration","text":"It's possible to customize path and heading of your daily notes, by following the dateformat masking syntax . The following properties can be used: \"foam.openDailyNote.directory\": \"journal\", \"foam.openDailyNote.filenameFormat\": \"'daily-note'-yyyy-mm-dd\", \"foam.openDailyNote.fileExtension\": \"mdx\", \"foam.openDailyNote.titleFormat\": \"'Journal Entry, ' dddd, mmmm d\", The above configuration would create a file journal/note-2020-07-25.mdx , with the heading Journal Entry, Sunday, July 25 .","title":"Configuration"},{"location":"features/graph-visualization/","text":"Graph Visualization Foam comes with a graph visualization of your notes. To see the graph execute the Foam: Show Graph command. Graph Navigation With the graph you can: - highlight a node by hovering on it, to quickly see how it's connected to the rest of your notes - select one or more (by keeping shift pressed while selecting) nodes by clicking on them, to better understand the structure of your notes - navigate to a note by clicking on it while pressing ctrl or cmd - automatically center the graph on the currently edited note, to immediately see it's connections Custom Graph Styles By default the Foam graph will use the VsCode theme, but it's possible to customize it with the foam.graph.style setting. A sample configuration object is provided below, you can provide as many or as little configuration as you wish: \"foam.graph.style\": { \"background\": \"#202020\", \"fontSize\": 12, \"highlightedForeground\": \"#f9c74f\", \"node\": { \"note\": \"#277da1\", \"placeholder\": \"#545454\", \"feature\": \"green\", } } note defines the color for regular nodes placeholder defines the color for links that don't match any existing note. This is a [[placeholder]] because no file with such name exists (see [[wiki-links]] for more info). feature shows an example of how you can use note types to customize the graph. It defines the color for the notes of type feature see [[note-properties]] for details you can have as many types as you want","title":"Graph visualization"},{"location":"features/graph-visualization/#graph-visualization","text":"Foam comes with a graph visualization of your notes. To see the graph execute the Foam: Show Graph command.","title":"Graph Visualization"},{"location":"features/graph-visualization/#graph-navigation","text":"With the graph you can: - highlight a node by hovering on it, to quickly see how it's connected to the rest of your notes - select one or more (by keeping shift pressed while selecting) nodes by clicking on them, to better understand the structure of your notes - navigate to a note by clicking on it while pressing ctrl or cmd - automatically center the graph on the currently edited note, to immediately see it's connections","title":"Graph Navigation"},{"location":"features/graph-visualization/#custom-graph-styles","text":"By default the Foam graph will use the VsCode theme, but it's possible to customize it with the foam.graph.style setting. A sample configuration object is provided below, you can provide as many or as little configuration as you wish: \"foam.graph.style\": { \"background\": \"#202020\", \"fontSize\": 12, \"highlightedForeground\": \"#f9c74f\", \"node\": { \"note\": \"#277da1\", \"placeholder\": \"#545454\", \"feature\": \"green\", } } note defines the color for regular nodes placeholder defines the color for links that don't match any existing note. This is a [[placeholder]] because no file with such name exists (see [[wiki-links]] for more info). feature shows an example of how you can use note types to customize the graph. It defines the color for the notes of type feature see [[note-properties]] for details you can have as many types as you want","title":"Custom Graph Styles"},{"location":"features/link-reference-definitions/","text":"Link Reference Definitions When you use [[wiki-links]] , the foam-vscode extension will automatically generate Markdown Link Reference Definitions at the bottom of the file. This is done to make the content of the file compatible with various Markdown tools (e.g. parsers, static site generators, VS code plugins etc), which don't support [[wiki-links]] directly. Example The following example: md - [[graph-visualization]] ...generates the following link reference definitions to the bottom of the file: ```md ``` Configuration You can use the foam.edit.linkReferenceDefinitions to configure the definitions (see [[get-started-with-vscode]]): - withoutExtensions (default): this works better with certain web publishing tools (e.g. GitHub pages) - withExtensions : this works better with standard markdown-based tools (e.g GitHub web UI) - off : this disables the generation of definitions After changing the setting in your workspace, you can run the Foam: Run Janitor (Experimental) command to convert all existing definitions.","title":"Link reference definitions"},{"location":"features/link-reference-definitions/#link-reference-definitions","text":"When you use [[wiki-links]] , the foam-vscode extension will automatically generate Markdown Link Reference Definitions at the bottom of the file. This is done to make the content of the file compatible with various Markdown tools (e.g. parsers, static site generators, VS code plugins etc), which don't support [[wiki-links]] directly.","title":"Link Reference Definitions"},{"location":"features/link-reference-definitions/#example","text":"The following example: md - [[graph-visualization]] ...generates the following link reference definitions to the bottom of the file: ```md ```","title":"Example"},{"location":"features/link-reference-definitions/#configuration","text":"You can use the foam.edit.linkReferenceDefinitions to configure the definitions (see [[get-started-with-vscode]]): - withoutExtensions (default): this works better with certain web publishing tools (e.g. GitHub pages) - withExtensions : this works better with standard markdown-based tools (e.g GitHub web UI) - off : this disables the generation of definitions After changing the setting in your workspace, you can run the Foam: Run Janitor (Experimental) command to convert all existing definitions.","title":"Configuration"},{"location":"features/note-properties/","text":"Note Properties At the top of the file you can have a section where you define your properties. Be aware that this section needs to be at the very top of the file to be valid For example, for this file, we have: --- type: feature keywords: hello world --- Those are properties. Properties can be used to organize your notes. Special Properties Some properties have special meaning for Foam: - the title property will assign the name to the note that you will see in the graph, regardless of the filename or the first heading (also see how to [[write-notes-in-foam]]) - the type property can be used to style notes differently in the graph (also see [[graph-visualization]]) - the tags property can be used to add tags to a note (see [[tags-and-tag-explorer]])","title":"Note properties"},{"location":"features/note-properties/#note-properties","text":"At the top of the file you can have a section where you define your properties. Be aware that this section needs to be at the very top of the file to be valid For example, for this file, we have: --- type: feature keywords: hello world --- Those are properties. Properties can be used to organize your notes.","title":"Note Properties"},{"location":"features/note-properties/#special-properties","text":"Some properties have special meaning for Foam: - the title property will assign the name to the note that you will see in the graph, regardless of the filename or the first heading (also see how to [[write-notes-in-foam]]) - the type property can be used to style notes differently in the graph (also see [[graph-visualization]]) - the tags property can be used to add tags to a note (see [[tags-and-tag-explorer]])","title":"Special Properties"},{"location":"features/note-templates/","text":"Note Templates You can create notes from templates by running the Foam: Create New Note from Template command and follow the instructions. To create a template, just add regular .md files in .foam/templates (create the directory if necessary). Templates can use all the variables available in VsCode Snippets .","title":"Note templates"},{"location":"features/note-templates/#note-templates","text":"You can create notes from templates by running the Foam: Create New Note from Template command and follow the instructions. To create a template, just add regular .md files in .foam/templates (create the directory if necessary). Templates can use all the variables available in VsCode Snippets .","title":"Note Templates"},{"location":"features/paste-images-from-clipboard/","text":"Paste Images from Clipboard You can paste an image from the clipboard with cmd+alt+v . Images are automatically copied to the /attachments folder and a reference is added in the file where you pasted them. A prompt will ask you to confirm the name of the image, to disable it set \"pasteImage.showFilePathConfirmInputBox\": false, in the settings. To change the location where the image is created, change the pasteImage.path property, e.g.: - ${currentFileDir} : save the image next to the file - ${currentFileDir}/images : create an images directory next to the file and save the image there For more info check the vscode-paste-image extension page.","title":"Paste images from clipboard"},{"location":"features/paste-images-from-clipboard/#paste-images-from-clipboard","text":"You can paste an image from the clipboard with cmd+alt+v . Images are automatically copied to the /attachments folder and a reference is added in the file where you pasted them. A prompt will ask you to confirm the name of the image, to disable it set \"pasteImage.showFilePathConfirmInputBox\": false, in the settings. To change the location where the image is created, change the pasteImage.path property, e.g.: - ${currentFileDir} : save the image next to the file - ${currentFileDir}/images : create an images directory next to the file and save the image there For more info check the vscode-paste-image extension page.","title":"Paste Images from Clipboard"},{"location":"features/spell-checking/","text":"Spell Checking Foam come with a spell checker. Misspelled words are highlighted, like hellow. You can place the cursor on top of the word, and press cmd+. for suggestions on how to fix the problem. You can configure the extension in the settings, for example to: - ignore certain files - change the language(s) - and much more For more information go to the Spellright extension page . There are many spell checking extensions for VsCode. Another one of our favorites is LTeX , which is a bit heavier but offers some extra functionality.","title":"Spell checking"},{"location":"features/spell-checking/#spell-checking","text":"Foam come with a spell checker. Misspelled words are highlighted, like hellow. You can place the cursor on top of the word, and press cmd+. for suggestions on how to fix the problem. You can configure the extension in the settings, for example to: - ignore certain files - change the language(s) - and much more For more information go to the Spellright extension page . There are many spell checking extensions for VsCode. Another one of our favorites is LTeX , which is a bit heavier but offers some extra functionality.","title":"Spell Checking"},{"location":"features/tags-and-tag-explorer/","text":"Tags and Tag Explorer Tags You can add tags to your notes to categorize them, or in any way you want. There are two ways to add tags: - you can add #tags just by writing them in the note - another way is through [[note-properties]], as you can see at the top of this file Tag Explorer In the sidebar to the left, you will see a panel called Tag Explorer . You can use this panel to see the tags in your notes, and navigate them. Notice my-tag1 and my-tag2 , which were added via [[note-properties]].","title":"Tags and tag explorer"},{"location":"features/tags-and-tag-explorer/#tags-and-tag-explorer","text":"","title":"Tags and Tag Explorer"},{"location":"features/tags-and-tag-explorer/#tags","text":"You can add tags to your notes to categorize them, or in any way you want. There are two ways to add tags: - you can add #tags just by writing them in the note - another way is through [[note-properties]], as you can see at the top of this file","title":"Tags"},{"location":"features/tags-and-tag-explorer/#tag-explorer","text":"In the sidebar to the left, you will see a panel called Tag Explorer . You can use this panel to see the tags in your notes, and navigate them. Notice my-tag1 and my-tag2 , which were added via [[note-properties]].","title":"Tag Explorer"},{"location":"features/use-keyboard-shortcuts-for-editing/","text":"Use Keyboard Shortcuts for Editing Here are some keyboard shortcuts you'll love when editing your notes. This works best if you can see the result in the preview panel, run the Markdown: Open Preview to the Side command. [ ] alt+c changes state to a TODO item. Try it while the cursor is on this line. [ ] cmd+b makes the selection bold. Select me and make me bold. [ ] cmd+i makes the selection italic. Select me and make me italic. [ ] alt+shift+f formats a table. Place the cursor in the table below and format the table. column 1 column 2 one element another element second row last cell [ ] Paste link on selected text copy the following text: https://google.com select me and paste [ ] Search in your repo with cmd+shift+f : type \"search\" (go back to the file explorer with cmd+shift+e ) [ ] Paste an image copy an image move your cursor to the next line, then press cmd+alt+v and confirm the name of the file . the image file has been created in /attachments and a reference to it has been added here","title":"Keyboard shortcuts for editing"},{"location":"features/use-keyboard-shortcuts-for-editing/#use-keyboard-shortcuts-for-editing","text":"Here are some keyboard shortcuts you'll love when editing your notes. This works best if you can see the result in the preview panel, run the Markdown: Open Preview to the Side command. [ ] alt+c changes state to a TODO item. Try it while the cursor is on this line. [ ] cmd+b makes the selection bold. Select me and make me bold. [ ] cmd+i makes the selection italic. Select me and make me italic. [ ] alt+shift+f formats a table. Place the cursor in the table below and format the table. column 1 column 2 one element another element second row last cell [ ] Paste link on selected text copy the following text: https://google.com select me and paste [ ] Search in your repo with cmd+shift+f : type \"search\" (go back to the file explorer with cmd+shift+e ) [ ] Paste an image copy an image move your cursor to the next line, then press cmd+alt+v and confirm the name of the file . the image file has been created in /attachments and a reference to it has been added here","title":"Use Keyboard Shortcuts for Editing"},{"location":"features/wiki-links/","text":"Wiki Links Wiki links are the internal links that connect the files in your knowledge base. To create a wiki link use [[ and type the name of another file in your repo, for example [[graph-visualization]] You can also create a [[placeholder]]. A placeholder is a wiki link that doesn't have a target file. They can still be helpful to highlight connections. Open the graph with Foam: Show Graph command, and look at the placeholder node.","title":"Wiki links"},{"location":"features/wiki-links/#wiki-links","text":"Wiki links are the internal links that connect the files in your knowledge base. To create a wiki link use [[ and type the name of another file in your repo, for example [[graph-visualization]] You can also create a [[placeholder]]. A placeholder is a wiki link that doesn't have a target file. They can still be helpful to highlight connections. Open the graph with Foam: Show Graph command, and look at the placeholder node.","title":"Wiki Links"},{"location":"features/write-notes-in-foam/","text":"Writing Notes Notes are simple text files with some extra flavor, in the shape of Markdown syntax and support for extra properties (see [[note-properties]]). Foam Syntax Foam uses standard markdown, with a few added twists: - the title of a note (e.g. in the [[graph-visualization]]) is given by precedence based on: - the title property (see [[note-properties]]) - the first # heading 1 of the file - the file name Markdown Syntax With markdown we can style our notes in a simple way, while keeping the document a simple text file (the best way to future-proof your writings!). You can see the formatted output by running the Markdown: Open Preview to the Side command. Here is a high level overview of Markdown, for more information on the markdown syntax see here . Heading 1 Heading 2 Heading 3 Heading 4 Heading 5 Heading 6 This is a link to google . This is a wiki link (aka internal link) to [[note-properties]]. Here is an image: this is a blockquote it can span multiple lines list item list item list item One Two Three This text is in bold and this is italic . The following is a horizontal rule This is a table: | Column 1 | Column 2 | | -------- | -------- | | R1C1 | R1C2 | | R2C1 | R2C2 | You can inline code or you can create code blocks","title":"Write notes in foam"},{"location":"features/write-notes-in-foam/#writing-notes","text":"Notes are simple text files with some extra flavor, in the shape of Markdown syntax and support for extra properties (see [[note-properties]]).","title":"Writing Notes"},{"location":"features/write-notes-in-foam/#foam-syntax","text":"Foam uses standard markdown, with a few added twists: - the title of a note (e.g. in the [[graph-visualization]]) is given by precedence based on: - the title property (see [[note-properties]]) - the first # heading 1 of the file - the file name","title":"Foam Syntax"},{"location":"features/write-notes-in-foam/#markdown-syntax","text":"With markdown we can style our notes in a simple way, while keeping the document a simple text file (the best way to future-proof your writings!). You can see the formatted output by running the Markdown: Open Preview to the Side command. Here is a high level overview of Markdown, for more information on the markdown syntax see here .","title":"Markdown Syntax"},{"location":"features/write-notes-in-foam/#heading-1","text":"","title":"Heading 1"},{"location":"features/write-notes-in-foam/#heading-2","text":"","title":"Heading 2"},{"location":"features/write-notes-in-foam/#heading-3","text":"","title":"Heading 3"},{"location":"features/write-notes-in-foam/#heading-4","text":"","title":"Heading 4"},{"location":"features/write-notes-in-foam/#heading-5","text":"","title":"Heading 5"},{"location":"features/write-notes-in-foam/#heading-6","text":"This is a link to google . This is a wiki link (aka internal link) to [[note-properties]]. Here is an image: this is a blockquote it can span multiple lines list item list item list item One Two Three This text is in bold and this is italic . The following is a horizontal rule This is a table: | Column 1 | Column 2 | | -------- | -------- | | R1C1 | R1C2 | | R2C1 | R2C2 | You can inline code or you can create code blocks","title":"Heading 6"},{"location":"how-to/Precinct_scan/","text":"ElectionGuard Precinct Scan Reference Implementation Overview By design, the ElectionGuard SDK can be used to enable end-to-end verifiability (e2e-v) in a variety of use cases. This article discusses the \"default\" use case of ElectionGuard: an end-to-end verifiable election that uses precinct scanners where ballots are inserted (and approved) by voters directly 1 . This document aims to provide a \" vertical slice \" of the considerations and practices necessary to add end-to-end verifiability to an existing precinct scanner. We necessarily make assumptions about the compute and storage capabilities of the scanner itself, and the modifications necessary to implement end-to-end verifiability . In so doing, it illustrates the interlocking system of security and encryption that comprises an e2e-v system . Generally, ElectionGuard relies on slight adaptations of existing voting processes to accommodate different aspects of e2e-v. For example, many voting jurisdictions already have a procedure called ballot spoiling to handle mistakes voters make when they fill out ballots. A voter may inadvertently fill out a contest incorrectly by selecting more candidates than allowed. When the voter then proceeds to scan the ballot, the scanner stops the ballot and alerts the voter of the overvote ; the voter then has the opportunity, as allowed within the voting regulations and practices of the voting district, to start over with a new ballot; the ballot with the mistake is then spoiled and stored separately to ensure it is not included in the tabulation. ElectionGuard uses this spoil process to enable a voter to test the integrity of the system capturing their vote. Effectively, the voter acts as if they are going to vote, submitting their ballot into the scanner and enabling it to process and interpret the ballot. After the encryption of the ballot has occurred, and the verification code has been generated, the voter can decide NOT to cast this ballot via some kind of option on the summary screen presented by the scanner. End-to-end verifiability mandates that these challenged ballots , unlike cast ballots , be published separately from the tally, and in addition that they be decrypted and published in their decrypted state. When voters use their verification code to look up the provenance of these challenged ballots after the election artifacts have been published, they will be able to see both that the ballot they challenged was NOT included in the tally, and also what its contents would have been if it were. When the contents of a challenged ballot are revealed to the voter and the selections match, their confidence about the provenance of their cast ballot is ideally bolstered. If the contents do not match their expectation, they should be given the means to flag this situation to election administrators to investigate. Thus, challenge ballots serve the dual role of affording voters the opportunity to more meaningfully evaluate the disposition of their voting preferences while also providing a security check on the voting system itself. Because the system has to be prepared for ANY voter to challenge a ballot, and because that challenge occurs AFTER the ElectionGuard encryption has occurred, the scanner has already committed its choice to ElectionGuard. And since the scanner can only encrypt ballots (only the tally process overseen by a quorum of election guardians has the \"power\" to decrypt anything ), the system is forced to act in good faith (if a small and random minority of voters can be relied upon to exercise challenges). This document illustrates these e2e-v concepts in the context of setting up and running an election. It begins with a general discussion of the precinct scan user experience and technical assumptions of scanner capabilities, and then runs an election, outlining where ElectionGuard needs to be integrated and ideally providing any wider security and integrity context for any process alterations that may obtain relative to current general election practice. Current Precinct Scan Voter Experience A typical voter flow for a precinct scan system is illustrated below. After a voter has acquired their ballot, they fill it out by hand or using a ballot marking device. When they finish they proceed to the scanner and insert the completed ballot. The scanner scans and interprets the ballot and generates a cast vote record , an electronic representation of the voter's selections. If all contests in a ballot are filled out properly and interpreted as such by the scanner, the ballot is accepted and the voter is free to leave the voting booth. If the scanner interprets the voter has voted for more options than the ballot contests allow (called an overvote ), the scanner stops the ballot from being deposited into the ballot box and prompts the voter whether they would like to have the ballot returned to fix the discrepancy. If the voter agrees, a poll worker is alerted and the ballot remediated by whatever process obtains, which could involve issuance of a new ballot and \"spoiling\" of the overvoted ballot. The scanner can also determine whether the voter didn't fill out all the contests available (called an undervote ). The scanner can be programmed to follow the same process as an overvote (returning the ballot for remediation), but election administrators often assume the undervote is intentional by the voter. Adapting Precinct Scan for End-to-end Verifiability (E2E-V) Voter Experience As outlined in the Verifiable Election page of the ElectionGuard SDK 2 , for end-to-end verifiability to apply, the precinct scanner itself must provide the following capabilities for each voter: immediately upon scanning the ballot, create an encrypted version of the ballot using the public key generated by the election guardians (see Key Ceremony) the verification code generated by the encryption is presented to the voter (ideally in paper format) for the voter to take with them the voter has the means to challenge (or spoil) the ballot Technical Requirements For end-to-end verifiability, the scanner has to implement the user experience described above, as well as generate and finalize an encrypted ballot. ElectionGuard assumes all other e2e-v functions such as key and tally ceremonies are performed independently of the scanner on modern laptop or desktop computers or secure cloud environments. Technical Implementation Overview and Operational Assumptions Precinct scanners, unlike other components of voting systems, are assumed to follow the economics and performance characteristics of embedded devices rather than consumer off-the-shelf (COTS) devices such as laptops. ElectionGuard assumes these devices operate in storage-limited environments more akin to Raspberry Pi than Windows 10. Information transfer (if not base storage) is assumed to be via USB drives with capacities designed for space-efficient data constructs, not 4096-bit encryptions. To support operation in these environments, ElectionGuard enables an encryption-only library built in C++ from which it can target different standalone package deployments that generate encrypted ballots using a separately-provided public election key. Because encrypted ballots in modern elections can each occupy up to 1MB or more of device storage, ElectionGuard also specifies a dehydration \"process\" that allows a more space-efficient format for local storage and transmission post-election. Prior to initiating the tally and publishing process, these ballots are transferred to external systems, and reconsitituted (and validated) by re-running the encryption process using the dehydrated data as inputs to regenerate the encrypted ballot. (See the discussions around ballot construction, chaining, etc., below to understand how dehydration should not affect system integrity or end-to-end verifiability.) General Election Setup Elections can be considered to have three core \"states\": the election itself, where voters cast their ballots, but also election setup and post-election data collection and tally publishing. ElectionGuard necessarily manifests in each state. Election setup generally consists of preparing the voting machines (we necessarily exclude all hand tabulations) for the current election contests, running any pre-production testing, and final configuration for election readiness. For ElectionGuard, the public election key generated by the election guardians as well as the ElectionGuard encryption executable are deployed to the scanner (we assume that the scanner is offline and code and election-related data is transferred via USB storage devices) at this time. Poll workers should also be prompted to manually enter an election launch code (see below) generated uniquely for the current election. In modern US elections, voters are often vote in multiple contests, determined by the type of election they're voting in and where they live within a voting district. Because of the diversity of contests that different voters are eligible to vote in even within a single county or precinct (imagine school districts, utility districts, city councillors, etc.), a single precinct scanner may need to recognize tens or hundreds of different ballot styles in an election. Ballot manifest Public encryption key Logic and Accuracy Testing Scanner Final Production Setup Launch Code Scanner Election Operation Ballot Encryption Generation of Verification Code Ballot Chaining Ballot Dehydration Dehydrated ballot structure A dehydrated ballot must provide the following data to be properly rehydrated and preserve end-to-end verifiability. Label Type Description Notes ballot_object_id string Unique ID to identify each ballot in an election session_id string Unique ID to enable the correct sorting of the election ballot chain when rehydrated needs to be resilient across device restarts and other service interruptions launch_code integer 10-digit ID generated at election initiation by rolling of 10-sided dice used to protect against attacks to insert votes outside of election context. See insert reference here ballot_style_id string Uniquely identifies the set of contests and responses a voter encounters with their ballot Used as part of the rehydration and tally processes to ensure the ballot is correctly interpreted and reconstituted ballot_finalization_indicator flag Indicates whether ballot is CAST or CHALLENGED applied by scanner based on determination by voter ballot_selections array Set of responses (and, as applicable, non-responses) of voter to ballot style reflective of non-selections; critical for rehydration and re-establishment of ballot encryption artifacts ballot_extra_data array Additional data applied at contest level to capture non-selection data Principally envisioned for capturing ballot selection metadata for write-ins; each entry needs to identify contest and selection as well as extra data string ballot_nonce ? The nonce used as input to the encryption of the ballot selections See spec on Ballot Encryption previous_tracker_hash ? As discussed in ballot chaining the previous_tracker_hash is an input to the current ballot encryption See spec on Ballot Encryption verification_code_hash ? Hashed version of verification code generated by ballot encryption process Ballot Finalization Cast ballots Challenge ballots As distinct from scanners used solely for central tabulation, which occurs with mail-in voting or any tabulation / aggregation scenario where voters are not present when the cast vote record is created \u21a9 ElectionGuard Verifiable Election [https://www.electionguard.vote/guide/Verifiable_Election/] \u21a9","title":"Precinct Scan"},{"location":"how-to/Precinct_scan/#electionguard-precinct-scan-reference-implementation","text":"","title":"ElectionGuard Precinct Scan Reference Implementation"},{"location":"how-to/Precinct_scan/#overview","text":"By design, the ElectionGuard SDK can be used to enable end-to-end verifiability (e2e-v) in a variety of use cases. This article discusses the \"default\" use case of ElectionGuard: an end-to-end verifiable election that uses precinct scanners where ballots are inserted (and approved) by voters directly 1 . This document aims to provide a \" vertical slice \" of the considerations and practices necessary to add end-to-end verifiability to an existing precinct scanner. We necessarily make assumptions about the compute and storage capabilities of the scanner itself, and the modifications necessary to implement end-to-end verifiability . In so doing, it illustrates the interlocking system of security and encryption that comprises an e2e-v system . Generally, ElectionGuard relies on slight adaptations of existing voting processes to accommodate different aspects of e2e-v. For example, many voting jurisdictions already have a procedure called ballot spoiling to handle mistakes voters make when they fill out ballots. A voter may inadvertently fill out a contest incorrectly by selecting more candidates than allowed. When the voter then proceeds to scan the ballot, the scanner stops the ballot and alerts the voter of the overvote ; the voter then has the opportunity, as allowed within the voting regulations and practices of the voting district, to start over with a new ballot; the ballot with the mistake is then spoiled and stored separately to ensure it is not included in the tabulation. ElectionGuard uses this spoil process to enable a voter to test the integrity of the system capturing their vote. Effectively, the voter acts as if they are going to vote, submitting their ballot into the scanner and enabling it to process and interpret the ballot. After the encryption of the ballot has occurred, and the verification code has been generated, the voter can decide NOT to cast this ballot via some kind of option on the summary screen presented by the scanner. End-to-end verifiability mandates that these challenged ballots , unlike cast ballots , be published separately from the tally, and in addition that they be decrypted and published in their decrypted state. When voters use their verification code to look up the provenance of these challenged ballots after the election artifacts have been published, they will be able to see both that the ballot they challenged was NOT included in the tally, and also what its contents would have been if it were. When the contents of a challenged ballot are revealed to the voter and the selections match, their confidence about the provenance of their cast ballot is ideally bolstered. If the contents do not match their expectation, they should be given the means to flag this situation to election administrators to investigate. Thus, challenge ballots serve the dual role of affording voters the opportunity to more meaningfully evaluate the disposition of their voting preferences while also providing a security check on the voting system itself. Because the system has to be prepared for ANY voter to challenge a ballot, and because that challenge occurs AFTER the ElectionGuard encryption has occurred, the scanner has already committed its choice to ElectionGuard. And since the scanner can only encrypt ballots (only the tally process overseen by a quorum of election guardians has the \"power\" to decrypt anything ), the system is forced to act in good faith (if a small and random minority of voters can be relied upon to exercise challenges). This document illustrates these e2e-v concepts in the context of setting up and running an election. It begins with a general discussion of the precinct scan user experience and technical assumptions of scanner capabilities, and then runs an election, outlining where ElectionGuard needs to be integrated and ideally providing any wider security and integrity context for any process alterations that may obtain relative to current general election practice.","title":"Overview"},{"location":"how-to/Precinct_scan/#current-precinct-scan-voter-experience","text":"A typical voter flow for a precinct scan system is illustrated below. After a voter has acquired their ballot, they fill it out by hand or using a ballot marking device. When they finish they proceed to the scanner and insert the completed ballot. The scanner scans and interprets the ballot and generates a cast vote record , an electronic representation of the voter's selections. If all contests in a ballot are filled out properly and interpreted as such by the scanner, the ballot is accepted and the voter is free to leave the voting booth. If the scanner interprets the voter has voted for more options than the ballot contests allow (called an overvote ), the scanner stops the ballot from being deposited into the ballot box and prompts the voter whether they would like to have the ballot returned to fix the discrepancy. If the voter agrees, a poll worker is alerted and the ballot remediated by whatever process obtains, which could involve issuance of a new ballot and \"spoiling\" of the overvoted ballot. The scanner can also determine whether the voter didn't fill out all the contests available (called an undervote ). The scanner can be programmed to follow the same process as an overvote (returning the ballot for remediation), but election administrators often assume the undervote is intentional by the voter.","title":"Current Precinct Scan Voter Experience"},{"location":"how-to/Precinct_scan/#adapting-precinct-scan-for-end-to-end-verifiability-e2e-v","text":"","title":"Adapting Precinct Scan for End-to-end Verifiability (E2E-V)"},{"location":"how-to/Precinct_scan/#voter-experience","text":"As outlined in the Verifiable Election page of the ElectionGuard SDK 2 , for end-to-end verifiability to apply, the precinct scanner itself must provide the following capabilities for each voter: immediately upon scanning the ballot, create an encrypted version of the ballot using the public key generated by the election guardians (see Key Ceremony) the verification code generated by the encryption is presented to the voter (ideally in paper format) for the voter to take with them the voter has the means to challenge (or spoil) the ballot","title":"Voter Experience"},{"location":"how-to/Precinct_scan/#technical-requirements","text":"For end-to-end verifiability, the scanner has to implement the user experience described above, as well as generate and finalize an encrypted ballot. ElectionGuard assumes all other e2e-v functions such as key and tally ceremonies are performed independently of the scanner on modern laptop or desktop computers or secure cloud environments.","title":"Technical Requirements"},{"location":"how-to/Precinct_scan/#technical-implementation","text":"","title":"Technical Implementation"},{"location":"how-to/Precinct_scan/#overview-and-operational-assumptions","text":"Precinct scanners, unlike other components of voting systems, are assumed to follow the economics and performance characteristics of embedded devices rather than consumer off-the-shelf (COTS) devices such as laptops. ElectionGuard assumes these devices operate in storage-limited environments more akin to Raspberry Pi than Windows 10. Information transfer (if not base storage) is assumed to be via USB drives with capacities designed for space-efficient data constructs, not 4096-bit encryptions. To support operation in these environments, ElectionGuard enables an encryption-only library built in C++ from which it can target different standalone package deployments that generate encrypted ballots using a separately-provided public election key. Because encrypted ballots in modern elections can each occupy up to 1MB or more of device storage, ElectionGuard also specifies a dehydration \"process\" that allows a more space-efficient format for local storage and transmission post-election. Prior to initiating the tally and publishing process, these ballots are transferred to external systems, and reconsitituted (and validated) by re-running the encryption process using the dehydrated data as inputs to regenerate the encrypted ballot. (See the discussions around ballot construction, chaining, etc., below to understand how dehydration should not affect system integrity or end-to-end verifiability.)","title":"Overview and Operational Assumptions"},{"location":"how-to/Precinct_scan/#general-election-setup","text":"Elections can be considered to have three core \"states\": the election itself, where voters cast their ballots, but also election setup and post-election data collection and tally publishing. ElectionGuard necessarily manifests in each state. Election setup generally consists of preparing the voting machines (we necessarily exclude all hand tabulations) for the current election contests, running any pre-production testing, and final configuration for election readiness. For ElectionGuard, the public election key generated by the election guardians as well as the ElectionGuard encryption executable are deployed to the scanner (we assume that the scanner is offline and code and election-related data is transferred via USB storage devices) at this time. Poll workers should also be prompted to manually enter an election launch code (see below) generated uniquely for the current election. In modern US elections, voters are often vote in multiple contests, determined by the type of election they're voting in and where they live within a voting district. Because of the diversity of contests that different voters are eligible to vote in even within a single county or precinct (imagine school districts, utility districts, city councillors, etc.), a single precinct scanner may need to recognize tens or hundreds of different ballot styles in an election.","title":"General Election Setup"},{"location":"how-to/Precinct_scan/#ballot-manifest","text":"","title":"Ballot manifest"},{"location":"how-to/Precinct_scan/#public-encryption-key","text":"","title":"Public encryption key"},{"location":"how-to/Precinct_scan/#logic-and-accuracy-testing","text":"","title":"Logic and Accuracy Testing"},{"location":"how-to/Precinct_scan/#scanner-final-production-setup","text":"","title":"Scanner Final Production Setup"},{"location":"how-to/Precinct_scan/#launch-code","text":"","title":"Launch Code"},{"location":"how-to/Precinct_scan/#scanner-election-operation","text":"","title":"Scanner Election Operation"},{"location":"how-to/Precinct_scan/#ballot-encryption","text":"","title":"Ballot Encryption"},{"location":"how-to/Precinct_scan/#generation-of-verification-code","text":"","title":"Generation of Verification Code"},{"location":"how-to/Precinct_scan/#ballot-chaining","text":"","title":"Ballot Chaining"},{"location":"how-to/Precinct_scan/#ballot-dehydration","text":"","title":"Ballot Dehydration"},{"location":"how-to/Precinct_scan/#dehydrated-ballot-structure","text":"A dehydrated ballot must provide the following data to be properly rehydrated and preserve end-to-end verifiability. Label Type Description Notes ballot_object_id string Unique ID to identify each ballot in an election session_id string Unique ID to enable the correct sorting of the election ballot chain when rehydrated needs to be resilient across device restarts and other service interruptions launch_code integer 10-digit ID generated at election initiation by rolling of 10-sided dice used to protect against attacks to insert votes outside of election context. See insert reference here ballot_style_id string Uniquely identifies the set of contests and responses a voter encounters with their ballot Used as part of the rehydration and tally processes to ensure the ballot is correctly interpreted and reconstituted ballot_finalization_indicator flag Indicates whether ballot is CAST or CHALLENGED applied by scanner based on determination by voter ballot_selections array Set of responses (and, as applicable, non-responses) of voter to ballot style reflective of non-selections; critical for rehydration and re-establishment of ballot encryption artifacts ballot_extra_data array Additional data applied at contest level to capture non-selection data Principally envisioned for capturing ballot selection metadata for write-ins; each entry needs to identify contest and selection as well as extra data string ballot_nonce ? The nonce used as input to the encryption of the ballot selections See spec on Ballot Encryption previous_tracker_hash ? As discussed in ballot chaining the previous_tracker_hash is an input to the current ballot encryption See spec on Ballot Encryption verification_code_hash ? Hashed version of verification code generated by ballot encryption process","title":"Dehydrated ballot structure"},{"location":"how-to/Precinct_scan/#ballot-finalization","text":"","title":"Ballot Finalization"},{"location":"how-to/Precinct_scan/#cast-ballots","text":"","title":"Cast ballots"},{"location":"how-to/Precinct_scan/#challenge-ballots","text":"As distinct from scanners used solely for central tabulation, which occurs with mail-in voting or any tabulation / aggregation scenario where voters are not present when the cast vote record is created \u21a9 ElectionGuard Verifiable Election [https://www.electionguard.vote/guide/Verifiable_Election/] \u21a9","title":"Challenge ballots"},{"location":"processes/Key_ceremony/","text":"Key Ceremony foo","title":"Key Ceremony"},{"location":"processes/Key_ceremony/#key-ceremony","text":"foo","title":"Key Ceremony"}]}